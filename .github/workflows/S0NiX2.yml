name: build-S0NiX2

on:
  workflow_dispatch:

jobs:
  # Label of the container job
  container-job:
    # Containers must run in Linux based operating systems
    runs-on: ubuntu-latest
    environment: TEL
    # Docker Hub image that `container-job` executes in
    container: nexgang/ubuntu:latest
    steps:
      Downloads a copy of the code in your repository before running CI tests
      - name: build
        run: |
          wget -q https://github.com/MotorolaMobilityLLC/kernel-msm/archive/refs/tags/MMI-S3RXC32.33-8-25.tar.gz
          tar -xf MMI*
          cd kernel-m*
          cp ../S0NiX2.sh .
          bash S0NiX2.sh
        env:
          token: ${{secrets.TOKEN}}
          chat_id: ${{secrets.CHAT_ID}}
